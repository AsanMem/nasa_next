(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[552],{3973:function(e,t,n){Promise.resolve().then(n.t.bind(n,1749,23)),Promise.resolve().then(n.bind(n,4205))},4205:function(e,t,n){"use strict";n.r(t);var i=n(7437),a=n(2265),r=n(6376),o=n(6967),d=n(9262),s=n(4284),w=n(7556),l=n(3682);t.default=e=>{let{asteroid:t,asteroidIndex:n,diameterSphere:h,speedSphere:u}=e,c=(0,a.useRef)(null);return h=window.innerWidth<=640&&h>5.922?5.922:h,(0,a.useEffect)(()=>{if(c.current){let e=c.current.clientWidth,t=c.current.clientHeight,i=new r.xsS;i.background=new r.cBK().load([]);let a=new r.dpR().load("/media/asteroid/textures/stone-".concat(n,".jpg")),p=new r.Wid({map:a,roughness:.8,metalness:.2}),m=new r.u9r,f=new r.UY4({color:16777215}),g=[];for(let e=0;e<1e4;e++){let e=r.M8C.randFloatSpread(2e3),t=r.M8C.randFloatSpread(2e3),n=r.M8C.randFloatSpread(2e3);g.push(e,t,n)}m.setAttribute("position",new r.a$l(g,3));let b=new r.woe(m,f);i.add(b);let v=new r.cPb(75,e/t,.1,1e3),z=new r.CP7;z.setSize(e,t),c.current.appendChild(z.domElement);let S=new o.z(v,z.domElement);S.enableZoom=!1,S.enablePan=!1,S.autoRotate=!0,S.autoRotateSpeed=.2,v.position.z=50;let C=new d.x(z),E=new s.C(i,v);C.addPass(E);let P=new w.m(new r.FM8(window.innerWidth,window.innerHeight),1.5,.4,.85);P.threshold=0,P.strength=.2,P.radius=.5,C.addPass(P);let M=new l.v;C.addPass(M),new r.Kgo(h,2),new r.H$k(h,2);let x=new r.cJO(h,2),k=new r.Kj0(x,p);i.add(k),z.shadowMap.enabled=!0,z.shadowMap.type=r.ntZ;let W=new r.Ox3(16777215,1);W.position.set(5,5,5),W.castShadow=!0,W.shadow.mapSize.width=1024,W.shadow.mapSize.height=1024,W.shadow.camera.near=.5,W.shadow.camera.far=500,i.add(W);let _=new r.Mig(4210752);i.add(_),v.position.z=15;let F=()=>{requestAnimationFrame(F),k.rotation.x+=.01,k.rotation.z+=.007,k.rotation.y+=.01,z.render(i,v);let e=m.attributes.position.array;for(let t=0;t<e.length;t+=3)e[t]+=u,e[t+2]+=u+.005,e[t]>1e3&&(e[t]=-1e3),e[t+2]>1e3&&(e[t+2]=-1e3);m.attributes.position.needsUpdate=!0,z.render(i,v)};F();let H=()=>{v.aspect=window.innerWidth/window.innerHeight,v.updateProjectionMatrix(),z.setSize(window.innerWidth,window.innerHeight)};return window.addEventListener("resize",H),()=>{var e;null===(e=c.current)||void 0===e||e.removeChild(z.domElement),window.removeEventListener("resize",H)}}},[t]),(0,i.jsx)("div",{ref:c,style:{width:"100%",height:"80vh"}})}}},function(e){e.O(0,[689,749,299,971,69,744],function(){return e(e.s=3973)}),_N_E=e.O()}]);